<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<label><b>Caro game </b></label><br>
<input type="button" value="Change value" onclick="run()"/><br>
<p id ="incaro"></p>
<script>
    let kiemTra=0;
    let caro=new Array();
    let inCaro="";
    for (let i=0; i<12;i++){
        caro[i]=["_.","_.","_.","_.","_.","_.","_.","_.","_.","_.","_.","_."];
    }

    for (let i=0; i<caro.length;i++){
        for (let j=0;j<caro.length;j++)
            inCaro+=caro[i][j]+" ";
        inCaro+= "<br>";
    }
    document.getElementById("incaro").innerHTML=inCaro;

    function run() {
        changeValue("X");
        changeValue("0");
    }
    //kiem tra
    function checkY(i,j,choose) {
        let dem=1;
        while(i-1  > 0 && caro[i-1][j] === choose)
        {
            dem ++;
            i--;
        }
        while(i +1 <= 12 && caro[i+1][j] ===  choose ){
            dem ++;
            i++;
        }
        if (dem>=3)
            return true ;
        else
            return  false;
    }

    function checkX(i,j,choose) {
        let dem=1;
        while(j-1> 0 && caro[i][j-1] === choose)
        {
            dem ++;
            j--;
        }
        while(  j +1 <= 12 && caro[i][j+1] ===  choose){
            dem ++;
            j++;
        }
        if (dem>=3)return true ;
        else return  false;
    }

    function checkXY(i,j,choose) {
        let dem=1;
        while(i -1> 0 &&j-1> 0 && caro[i-1][j-1] === choose)
        {
            dem ++;
            i--;
            j--;
        }
        while(  i +1 <= 12 && j +1 <= 12 && caro[i+1][j+1] ===  choose){
            dem ++;
            i++;
            j++;
        }
        if (dem>=3)return true ;
        else
            return  false;
    }

    function changeValue(choose) {
        inCaro="";
        let x= parseInt(prompt("Enter X"));
        let y= parseInt(prompt("Enter y"));
        caro[x][y]=choose;
        for (let i=0; i<caro.length;i++){
            for (let j=0;j<caro.length;j++) {
                inCaro += caro[i][j] + "";
            }
            inCaro+= "<br>";
        }
        if(checkX(x,y,choose)||checkY(x,y,choose)||checkXY(x,y,choose)){
            alert(choose+" win");
        }
        document.getElementById("incaro").innerHTML=inCaro;
    }
</script>
</body>
</html>